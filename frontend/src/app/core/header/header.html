<header
  class="fixed top-0 left-0 w-full bg-transparent border-b border-b-border-darkest z-40"
>
  <app-container [className]="'flex items-center justify-between py-2.5'">
    <!--============== Mobile Menu Icon ==============-->
    <button
      class="header-menu-action-btn group"
      aria-label="Open Mobile Menu"
      (click)="toggleMobileMenu()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="25"
        height="25"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-text-align-justify-icon lucide-text-align-justify group-hover:scale-105 group-hover:text-icon-darker transition-transform duration-200 ease-in-out"
      >
        <path d="M3 5h18" />
        <path d="M3 12h18" />
        <path d="M3 19h18" />
      </svg>
    </button>

    <!--============== Logo ==============-->
    <app-logo [title]="title" />

    <!--============== Desktop Navigation ==============-->
    <app-desktop-menu role="navigation" class="hidden md:flex" />

    <!--============== Desktop Search ==============-->
    <app-desktop-search role="search" class="hidden sm:flex" />

    <!--============== Header Actions ==============-->
    <ul class="relative flex items-center gap-1.5">
      <!-- Search -->
      <li>
        <button
          class="header-search-action-btn group"
          aria-label="Search"
          (click)="toggleMobileSearch()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-search-icon lucide-search group-hover:scale-105 group-hover:text-icon-darker transition-transform duration-200 ease-in-out"
            [ngClass]="isMobileSearchOpen() ? 'rotate-360 stroke-accent' : ''"
          >
            <path d="m21 21-4.34-4.34" />
            <circle cx="11" cy="11" r="8" />
          </svg>
        </button>
      </li>

      <!-- Authentication -->
      <li>
        <button
          class="header-action-btn group"
          [attr.aria-label]="this.user() ? 'Authenticated User' : 'Sign In'"
        >
          @if(!this.user()) {
          <a routerLink="/auth/login">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-log-in-icon lucide-log-in"
            >
              <path d="m10 17 5-5-5-5" />
              <path d="M15 12H3" />
              <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
            </svg>
          </a>
          } @else {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-user-round-icon lucide-user-round group-hover:scale-105 group-hover:text-icon-darker transition-transform duration-200 ease-in-out"
          >
            <circle cx="12" cy="8" r="5" />
            <path d="M20 21a8 8 0 0 0-16 0" />
          </svg>
          }
        </button>
      </li>

      <!--============== User Menu ==============-->
      <app-user-menu
        role="menu"
        [attr.aria-expanded]="!isUserMenuOpen()"
        [attr.aria-hidden]="!isUserMenuOpen()"
      />
    </ul>
  </app-container>

  <!--============== Overlay ==============-->
  <div
    class="overlay"
    [class.hidden]="!isMobileMenuOpen()"
    [attr.aria-expanded]="isMobileMenuOpen()"
    [attr.aria-hidden]="!isMobileMenuOpen()"
  ></div>

  <!--============== Mobile Menu ==============-->
  <app-mobile-menu
    role="menu"
    [attr.aria-expanded]="isMobileMenuOpen()"
    [attr.aria-hidden]="!isMobileMenuOpen()"
    [isOpen]="isMobileMenuOpen()"
    (close)="toggleMobileMenu()"
  />

  <!--============== Mobile Search ==============-->
  <app-mobile-search
    role="searchbox"
    [attr.aria-expanded]="isMobileMenuOpen()"
    [attr.aria-hidden]="!isMobileMenuOpen()"
    [isOpen]="isMobileSearchOpen()"
  />
</header>
