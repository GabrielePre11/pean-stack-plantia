<section class="grid grid-cols-1 py-10 bg-mustard text-white">
  <app-container>
    <!--============== Heading ==============-->
    <div class="flex flex-col items-center justify-center gap-2">
      <h4 class="text-white text-sm lg:text-lg font-medium">
        {{ reviewsAverage().toFixed(1)}} out of 5 stars, based on {{
        reviews().length }} reviews
      </h4>

      <!--============== Stars ==============-->
      <ul class="flex items-center gap-x-1.5">
        @for (star of stars; track $index) {
        <li>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-star-icon lucide-star fill-white"
          >
            <path
              d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
            />
          </svg>
        </li>
        }
      </ul>
    </div>
  </app-container>

  <div class="relative flex flex-col">
    <!--============== Slider ==============-->
    <ul
      class="relative flex items-center py-10 w-full text-center scroll-smooth overflow-x-auto snap-x snap-mandatory scrollbar-hidden"
      aria-orientation="horizontal"
      aria-live="polite"
      role="slider"
      #reviewsSliderRef
    >
      @for (review of reviews().slice(0, 15); track review.id) {
      <!--============== Review Slide ==============-->
      <li
        class="flex flex-col items-center justify-center gap-2.5 md:gap-3 lg:gap-5 min-h-62.5 shrink-0 w-full"
      >
        <!--============== Review Comment ==============-->
        <blockquote class="text-4xl lg:text-5xl xl:text-6xl max-w-2xl">
          {{review.comment}}
        </blockquote>

        <!--============== Review Author ==============-->
        <span class="text-2xl md:text-3xl font-secondary font-medium"
          >â€” {{review.user.name}}</span
        >
      </li>
      }
    </ul>

    <!--============== Slider Arrows ==============-->
    <button
      class="review-slider-arrow-left group"
      aria-label="Scroll to Left"
      (click)="prevSlide()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="25"
        height="25"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-arrow-left-icon lucide-arrow-left lg:size-8 xl:size-9 transition-transform group-hover:-translate-x-1.5 duration-200 ease-in-out"
      >
        <path d="m12 19-7-7 7-7" />
        <path d="M19 12H5" />
      </svg>
    </button>

    <button
      class="review-slider-arrow-right group"
      aria-label="Scroll to Right"
      (click)="nextSlide()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="25"
        height="25"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-arrow-right-icon lucide-arrow-right lg:size-8 xl:size-9 transition-transform group-hover:translate-x-1.5 duration-200 ease-in-out"
      >
        <path d="M5 12h14" />
        <path d="m12 5 7 7-7 7" />
      </svg>
    </button>
  </div>
</section>
